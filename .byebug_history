c
exit
current_user.pass.total_amount
current_user.pass
current_user
c
n
c
c!
charge
c
charge
n
@token
n
c
@token
n
c
n
c
customer
c
n
@card_number
n
c
n
c
Stripe::Token.create(card: { number: @card_number, exp_month: @exp_month, exp_year: @exp_year, cvc: @cvc })
@cvc
@exp_year
@exp_month
@card_number
c
n
c
n
c!
C!
n
@exp_year
n
@exp_month
n
@card_number
n
params[:card_number]
c!
params
c
c!
c
c!
n
Stripe.api_key
c
n
c
n
c!
 customer = Stripe::Customer.create({
              name: @pass.username,
              email: @pass.passenger_email
            })
urrent_user.username
 current_user.passenger_email
current_user.username
c!
current_user.username
customer
n
c
n
c!
customer  = Stripe::Customer.create(
			name: username, email: passenger_email )
name: username, email: passenger_email
[200~customer  = Stripe::Customer.create(
c!
customer
n
c!
customer = Stripe::Customer.create(name: username, email: passenger_email)
customer = Stripe::Customer.create(
c!
Stripe::Customer.create(
			name: params[:username],
			email: params[:email])
c!
ENV['STRIPE_PUBLISHABLE_KEY']
c!
Rails.configuration.stripe[:publishable_key]
c!
 Rails.configuration.stripe[:publishable_key]
publishable_key
c!
C!
c1
ENV['STRIPE_PUBLISH_KEY']
STRIPE_PUBLISHABLE_KEY
Rails.configuration.stripe[:publishable_key]
c!
n
@pass.save
@pass
n
c
render json: {message: "Pass created successfully", pass: PassSerializer.new(@pass)}, status: :ok
n
@pass.save
n
@pass = current_user.build_pass(pass_params)
n
c!
c
render json: {message: "Pass created successfully", pass: PassSerializer.new(@pass)}, status: :ok
n
@pass.save
n
@pass = current_user.build_pass(pass_params)
n
current_user.pass.present?
n
current_user.user?
n
current_user.admin?
c
n
current_user.user?
n
current_user.admin?
c!
current_user.pass
current_user.pass.present?
current_user.user?
n
 current_user.admin?
c!
c
n
 @pass.save
n
current_user.admin?
c
pass_params
n
 @pass.nil?
@pass
@pass = Pass.find_by(username: params[:username], passenger_email: params[:passenger_email])
n
current_user.admin?
n
current_user.admin?
c
n
@pass.nil?
n
@pass.present?
n
 @pass = Pass.find_by(username: params[:username], passenger_email: params[:passenger_email])
n
current_user.admin?
urrent_user.admin?
c!
 @pass = Pass.find_by(username: params[:username], passenger_email: params[:passenger_email])
n
current_user.admin?
c!
@user
 @user.pass.present?
n
@user = User.find_by(username: params[:username])
n
current_user.admin?
n
current_user.admin?
c
n
User.find_by(username: params[:username], email: params[:email])
n
create_pass_for_user
n
current_user.admin?
c
@pass
@pass.save
n
@pass = current_user.build_pass(pass_params)
n
current_user.pass.present?
n
current_user.user?
n
c!
@pass = current_user.build_pass(pass_params)
@pass = current_user.build_pass.(pass_params)
n
pass_params
n
current_user.pass.present?
n
current_user.user?
n
current_user.admin?
c!
current_user.id
current_user.pass
current_user.username
current_user
curent_user
curent_user.user_name
current_user.pass.present?
n
 current_user.user?
n
current_user.admin?
c
n
current_user.pass.present?
n
current_user.user?
n
current_user.admin?
c
n
current_user.pass.present?
n
current_user.user?
n
current_user.admin?
c!
cuc!
current_user.user?
n
current_user.role.role_type
c!
current_user.role.role_type
current_user.role
current_user
c!
c
 object.category.category_name
 object.category.name
c
n
object.user.username
c
object.user.username
object.user.user_name
object.user_name
object.user_id
object.pass.user_id
object.pass.username
object.pass.user.username
object.pass.user_name
